{
  "Finnhub": {
    "ApiKey": ""
  },
  "Telegram": {
    "BotToken": "",
    "ChatId": ""
  },
  "Mongo": {
    "ConnectionString": "",
    "Database": "TradingSignals",
    "Collections": {
      "Indicators": "Indicators",
      "TradingSignals": "TradingSignals",
      "WatchlistSymbols": "WatchlistSymbols",
      "CoreSymbols": "CoreSymbols",
      "RotationSymbols": "RotationSymbols"
    }
  },

  // ðŸ”§ SEZIONE MODIFICATA: SignalSettings
  "SignalSettings": {
    "MinConfidenceLevel": 50, // ðŸ”§ RIDOTTO da 70 a 50
    "SignalCooldownHours": 2, // Mantieni uguale
    "MaxSignalsPerDay": 30, // ðŸ”§ AUMENTATO da 20 a 30
    "RequireVolumeConfirmation": false, // ðŸ”§ DISABILITATO per piÃ¹ segnali
    "EnableEnhancedAnalysis": true // Mantieni true
  },

  // ðŸ”§ SEZIONE MODIFICATA: Risk Management
  "Risk": {
    "DefaultStopLossPercent": 5.0,
    "DefaultTakeProfitPercent": 15.0,
    "MinRiskRewardRatio": 1.5, // ðŸ”§ RIDOTTO da 2.5 a 1.5
    "UseATRForStopLoss": true,
    "ATRMultiplierLow": 2.0,
    "ATRMultiplierNormal": 2.5,
    "ATRMultiplierHigh": 3.0,
    "ATRMultiplierExtreme": 4.0
  },

  // Mantieni uguale - DataDrivenTakeProfit
  "DataDrivenTakeProfit": {
    "Enabled": true,
    "HistoricalDataDays": 60,
    "MinDataPointsRequired": 15,
    "PerformanceTrackingDays": 21,
    "MinTakeProfitPercent": 4.0,
    "MaxTakeProfitPercent": 25.0
  },

  // ðŸ”§ SEZIONE MODIFICATA: EnhancedAnalysis 
  "EnhancedAnalysis": {
    "MinConfluenceScore": 50, // ðŸ”§ RIDOTTO da 70 a 50
    "RequireVolumeBreakout": false, // ðŸ”§ DISABILITATO
    "MinVolumeRatio": 1.1, // ðŸ”§ RIDOTTO da 1.5 a 1.1
    "EnableTrendClassification": true,
    "EnableStructuralLevels": true,
    "EnableRSIDivergenceDetection": true,
    "EnableMACDMomentumAnalysis": true
  },

  // ðŸ”§ SEZIONE MODIFICATA: TechnicalAnalysis
  "TechnicalAnalysis": {
    "EMA_Fast": 20,
    "EMA_Slow": 50,
    "RSI_Period": 14,
    "RSI_OversoldLevel": 35, // ðŸ”§ AUMENTATO da 30 a 35
    "RSI_OverboughtLevel": 70, // Mantieni uguale
    "MACD_Fast": 12,
    "MACD_Slow": 26,
    "MACD_Signal": 9,
    "ATR_Period": 14,
    "VolumeMA_Period": 20,
    "SwingLookback": 3
  },

  // ðŸ”§ SEZIONE MODIFICATA: Confluence - LE PIÃ™ IMPORTANTI!
  "Confluence": {
    "TrendWeight": 25,
    "RSIWeight": 20,
    "MACDWeight": 20,
    "VolumeWeight": 15,
    "SupportResistanceWeight": 20,
    "MinTotalScore": 45, // ðŸ”§ RIDOTTO da 70 a 45
    "StrongBuyThreshold": 75, // ðŸ”§ RIDOTTO da 85 a 75
    "MediumBuyThreshold": 55, // ðŸ”§ RIDOTTO da 70 a 55
    "OpportunityThreshold": 45, // ðŸ”§ NUOVO tipo di segnale
    "WarningThreshold": 35 // ðŸ”§ RIDOTTO da 60 a 35
  },

  // ðŸ”§ SEZIONE MODIFICATA: MarketTiming
  "MarketTiming": {
    "PreMarketHours": 2,
    "PostMarketHours": 4,
    "WeekendAnalysisHours": 20,
    "OffHoursConfidenceBoost": 10, // ðŸ”§ RIDOTTO da 15 a 10
    "PreMarketConfidenceBoost": 5, // ðŸ”§ RIDOTTO da 10 a 5
    "EnableOffHoursSignals": true, // ðŸ”§ NUOVO: Abilita after-hours
    "EnablePreMarketSignals": true, // ðŸ”§ NUOVO: Conferma pre-market
    "RelaxedValidation": true // ðŸ”§ NUOVO: Validazione rilassata
  },

  // Mantieni uguale - Logging
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft": "Warning",
      "Microsoft.Hosting.Lifetime": "Information",
      "PortfolioSignalWorker.Services.SimplifiedEnhancedSignalFilterService": "Information",
      "PortfolioSignalWorker.Services.SimplifiedEnhancedRiskManagementService": "Information",
      "PortfolioSignalWorker.SimplifiedEnhancedWorker": "Information"
    },
    "Console": {
      "IncludeScopes": false,
      "TimestampFormat": "[yyyy-MM-dd HH:mm:ss] "
    }
  },

  // Mantieni uguale - Performance
  "Performance": {
    "MaxConcurrentAnalysis": 3,
    "AnalysisTimeoutSeconds": 20,
    "EnablePerformanceLogging": true
  },

  // ðŸ”§ NUOVA SEZIONE: Debug Settings (opzionale)
  "Debug": {
    "LogConfluenceDetails": true, // ðŸ”§ Per vedere perchÃ© score Ã¨ basso
    "LogSignalValidation": true, // ðŸ”§ Per debug validazione
    "LogMarketModeChanges": true, // ðŸ”§ Per debug orari mercato
    "LogRelaxedRules": true, // ðŸ”§ Per confermare regole rilassate
    "ForceConfidenceBoost": 0 // ðŸ”§ Per test: +X punti confidence
  }
}